# Исправленная версия 

https://github.com/ProgTosya/Employees/assets/110400557/9a34ccc4-f782-4846-bb36-7c0b4301026c


## Установка
Перед установкой обновить .env файл
- composer install
- npm install
- php artisan migrate
- php artisan db:seed
- php artisan key:generate
- php artisan serve
- npm run dev
### После заполнения БД 
- Login: admin@admin.by
- Password: password
## файл .env
- DB_CONNECTION=pgsql
- DB_HOST=127.0.0.1
- DB_PORT=5432
- DB_DATABASE=Employees
- DB_USERNAME=postgres
- DB_PASSWORD=password
#
- BROADCAST_DRIVER=log
- CACHE_DRIVER=file
- FILESYSTEM_DISK=local
- QUEUE_CONNECTION=sync
- SESSION_DRIVER=cookie
- SESSION_LIFETIME=120
- MEMCACHED_HOST=127.0.0.1
- REDIS_HOST=127.0.0.1
- REDIS_PASSWORD=null
- REDIS_PORT=6379
- SESSION_DOMAIN=localhost
- SANCTUM_STATEFUL_DOMAINS=localhost:8000

## Rest Api 
Запросы к БД через axios(get, put, delete) реализованы в create и edit шаблонах Vue. В остальных данные на сервер отправляются через fetch()

Для использования в Postman 
- php artisan tinker
- $user=User::first();
- $user->createToken('dev')
- Копируем plainTextToken, предназначенная для использования в Postman
- В Postman на Authorization вкладке выберите Type как Bearer Token и вставьте plainTextToken в текстовое поле.
- Затем во вкладке Headers укажите Accept в значении application/json.

После всех действий можно отправлять запросы к аутентифицированным маршрутам.
## Использование 

После установки пользователя перенаправляет на главную страницу. На ней расположенна карточка генерального директора и возможность авторизации/регистрации. При нажатии на карточку генерального директора открывается список его подчинённых. При нажатии на каждого сотрудника подгружается список его подчинённых.
На видео выше реализован процесс d&d сотрудников, пользователь перетягиванием меняет начальника для сотрудника. Перетягивать нельзя только генерального директора.
Данные для авторизации указаны выше.

После авторизации пользователя направляет на страницу CRUD взаимодействия. Реализован поиск для каждой колонки таблицы. Сортировка работает без перезагрузки страницы, для каждой колонки.
Есть возможность смены генерального директора, для этого нужно знать табельный номер нового генерального директора. При нажатии на кнопку создания нового сотрудника перенаправляет на страницу для добавления в БД сотрудника. Все поля являются обязательными для заполнения. Также добавление фотографии. 
Для редактирование сотрудников в таблице напротив данных сотрудника есть символ маркера. При нажатии открывается страница пользователя с  его данными для редактирования, с отображением фотографии сотрудника. 

Для перенаправления на главную страницу в левом верхнем углу экрана при нажатии на иконку breeze -> на главную 


